#### 1 nestjs 介绍

nestjs 是一款基于 node 的后端开发框架

有人可能会问，我为什么一定要使用开发框架呢，直接使用原生 node 去开发后端可不可以呢？当然是可以的，只不过这就回到了老生常谈的问题，为什么要使用框架？

我们说框架其实是为了简化开发流程的，原因主要有以下两点：

1. 在原生开发时代，很多功能实现是需要我们自己去实现的，因为原生只提供了非常基础的功能，而框架对很多基础功能都做了更高层的封装，这些封装好的功能可以直接使用而不必去自己实现，这就节约了开发时间
2. 在原生开发时代，同种需求场景有不同的技术方案去实现，这就需要技术选型，不同的技术选型带来的开发体验和性能差距是不一样的，而框架是有一整套的完整配套方案的，针对每种需求场景，框架都已经帮你选好了最优的技术方案，直接使用就行，这也节约了开发时间，同时框架的选型必然是最优的，不必担心性能问题

由于 nestjs 是综合性的框架，采用了面向切面编程等优秀思想，方便拓展功能模块，并且开发语言采用了 ts， 因此，如果项目是长期需要迭代的项目，或者对性能有追求，需要多个子项目的项目，比如需要构建微服务架构，那么就很适合使用 nestjs 进行开发

> 适合使用 nodejs 开发的场景：
>
> 1. 有高并发需求，但是又对 CPU密集 不敏感的应用，比如聊天室、爬虫，CPU密集是指对CPU计算能力的依赖，聊天室等应用的瓶颈主要在于网络IO，因此是对IO密集敏感的应用，nodejs采用的是非阻塞IO模型，很适合这类应用
> 2. 没有后端人员，需要快速上线的应用，nodejs 开发后端的速度是不慢的
> 3. serverless或者前后一体的项目

nestjs 与其他常见的 node 框架有什么不同呢，我们可以对比一下 koajs 和 eggjs，为什么不对比 express 呢，因为 nestjs 默认选择了 express 作为 HTTP 服务的实现（express 具有稳定的生态），简单对比一下 npm 下载量和 github 增星的数量可知， nestjs 作为 2017 年诞生的框架，星数已经快追上 express 了（截止2024年10月，星星数 67k，已经超过了 express 的 65k）

其他方面，koa 和 express 只实现了 HTTP 服务，其他的路由等中间逻辑需要自己实现，eggjs 虽然有路由等实现，但是没有使用 ts，nestjs 使用 ts + 注解的开发方式更便捷，性能也更好

#### 2 环境配置

##### 2.1 node环境

nestjs 是基于 nodejs 的，因此想要使用 nestjs，首先需要安装 node，关于 node，可查询相关笔记
